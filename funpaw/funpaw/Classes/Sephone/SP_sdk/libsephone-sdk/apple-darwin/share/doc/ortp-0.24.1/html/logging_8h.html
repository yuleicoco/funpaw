<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>oRTP: /users/andrew/workspaces/linphone/submodules/oRTP/include/ortp/logging.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">oRTP
   &#160;<span id="projectnumber">0.24.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,'Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fe6eb5064d42f9f773e90d3512fafa25.html">submodules</a></li><li class="navelem"><a class="el" href="dir_56ab9a32050f12272c302af9454f020f.html">oRTP</a></li><li class="navelem"><a class="el" href="dir_4b0645ecf69dc0217b982217f0c6a03f.html">include</a></li><li class="navelem"><a class="el" href="dir_6b9e13dd505c33efa5be7842ff80a53e.html">ortp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">logging.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Logging API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ortp/port.h&gt;</code><br />
</div>
<p><a href="logging_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1a233a1f9c4efa4476b25d6829551e5e"><td class="memItemLeft" align="right" valign="top"><a id="a1a233a1f9c4efa4476b25d6829551e5e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_log_level_enabled</b>(level)&#160;&#160;&#160;((level) &gt;= ortp_get_log_level())</td></tr>
<tr class="separator:a1a233a1f9c4efa4476b25d6829551e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af885559332da80916395dd53c4f27879"><td class="memItemLeft" align="right" valign="top"><a id="af885559332da80916395dd53c4f27879"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHECK_FORMAT_ARGS</b>(m,  n)</td></tr>
<tr class="separator:af885559332da80916395dd53c4f27879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c6b17390bcc5c146b0b33d9326875d"><td class="memItemLeft" align="right" valign="top"><a id="a38c6b17390bcc5c146b0b33d9326875d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_debug</b>(...)</td></tr>
<tr class="separator:a38c6b17390bcc5c146b0b33d9326875d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770d6c0f6e7ee0653205bfcce483d5f4"><td class="memItemLeft" align="right" valign="top"><a id="a770d6c0f6e7ee0653205bfcce483d5f4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_func</b>()&#160;&#160;&#160;ortp_debug(&quot;@func %s&quot;, __FUNCTION__)</td></tr>
<tr class="separator:a770d6c0f6e7ee0653205bfcce483d5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3bb6af2497af4ed693c66fa53c6023"><td class="memItemLeft" align="right" valign="top"><a id="a6b3bb6af2497af4ed693c66fa53c6023"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_infunc</b>()&#160;&#160;&#160;ortp_debug(&quot;&gt;func %s&quot;, __FUNCTION__)</td></tr>
<tr class="separator:a6b3bb6af2497af4ed693c66fa53c6023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5551349bcfd259d5a7302a3b29c3964c"><td class="memItemLeft" align="right" valign="top"><a id="a5551349bcfd259d5a7302a3b29c3964c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_outfunc</b>()&#160;&#160;&#160;ortp_debug(&quot;&lt;func %s&quot;, __FUNCTION__)</td></tr>
<tr class="separator:a5551349bcfd259d5a7302a3b29c3964c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac0b4c19c58530e36d231f715bbd5769e"><td class="memItemLeft" align="right" valign="top"><a id="ac0b4c19c58530e36d231f715bbd5769e"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>OrtpLogFunc</b>) (int lev, const char *fmt, va_list args)</td></tr>
<tr class="separator:ac0b4c19c58530e36d231f715bbd5769e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acd0bdaefa1dabacf185dddb3eb637450"><td class="memItemLeft" align="right" valign="top"><a id="acd0bdaefa1dabacf185dddb3eb637450"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>OrtpLogLevel</b> { <br />
&#160;&#160;<b>ORTP_TRACE</b> =0, 
<b>ORTP_DEBUG</b> =1, 
<b>ORTP_MESSAGE</b> =2, 
<b>ORTP_WARNING</b> =3, 
<br />
&#160;&#160;<b>ORTP_ERROR</b> =4, 
<b>ORTP_FATAL</b> =5, 
<b>ORTP_LOGLEV_END</b> =6
<br />
 }</td></tr>
<tr class="separator:acd0bdaefa1dabacf185dddb3eb637450"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0ceeb91855ba7f99a871c2110bfb56a6"><td class="memItemLeft" align="right" valign="top"><a id="a0ceeb91855ba7f99a871c2110bfb56a6"></a>
ORTP_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_init_log_file</b> (char *fpath)</td></tr>
<tr class="separator:a0ceeb91855ba7f99a871c2110bfb56a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde13134028bef4938dfafb72f5df600"><td class="memItemLeft" align="right" valign="top">ORTP_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#afde13134028bef4938dfafb72f5df600">ortp_set_log_file</a> (FILE *file)</td></tr>
<tr class="separator:afde13134028bef4938dfafb72f5df600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198c5af3e36951e7b22e3a907500beb9"><td class="memItemLeft" align="right" valign="top">ORTP_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#a198c5af3e36951e7b22e3a907500beb9">ortp_set_log_handler</a> (OrtpLogFunc func)</td></tr>
<tr class="separator:a198c5af3e36951e7b22e3a907500beb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae948b332af1f04d7a0b576a5fe962085"><td class="memItemLeft" align="right" valign="top">ORTP_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#ae948b332af1f04d7a0b576a5fe962085">ortp_logv_flush</a> (void)</td></tr>
<tr class="separator:ae948b332af1f04d7a0b576a5fe962085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52d0120911f3ebb65dc7f3a600ec0ac"><td class="memItemLeft" align="right" valign="top">ORTP_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#ae52d0120911f3ebb65dc7f3a600ec0ac">ortp_set_log_level</a> (int level)</td></tr>
<tr class="separator:ae52d0120911f3ebb65dc7f3a600ec0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481db05e5a38b14e47594e3d79d3f32e"><td class="memItemLeft" align="right" valign="top"><a id="a481db05e5a38b14e47594e3d79d3f32e"></a>
ORTP_PUBLIC int&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_get_log_level</b> (void)</td></tr>
<tr class="separator:a481db05e5a38b14e47594e3d79d3f32e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100ae42cbb975df18ddae850a560c250"><td class="memItemLeft" align="right" valign="top">ORTP_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#a100ae42cbb975df18ddae850a560c250">ortp_set_log_thread_id</a> (unsigned long thread_id)</td></tr>
<tr class="separator:a100ae42cbb975df18ddae850a560c250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1081e3dd6b5b75d2d4b7630fed9f5166"><td class="memItemLeft" align="right" valign="top"><a id="a1081e3dd6b5b75d2d4b7630fed9f5166"></a>
ORTP_PUBLIC int&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_hex_snprintf</b> (char *buff, size_t bufflen, char *data, size_t datalen, const char *fmt,...)</td></tr>
<tr class="separator:a1081e3dd6b5b75d2d4b7630fed9f5166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1572faa5a492d87ec3bb0ed9b46449d5"><td class="memItemLeft" align="right" valign="top"><a id="a1572faa5a492d87ec3bb0ed9b46449d5"></a>
ORTP_PUBLIC void&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_logv</b> (int level, const char *fmt, va_list args)</td></tr>
<tr class="separator:a1572faa5a492d87ec3bb0ed9b46449d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0d09930fa9aaca88972a1cb4f115d6"><td class="memItemLeft" align="right" valign="top">static ORTP_INLINE void const char&#160;</td><td class="memItemRight" valign="bottom"><b>va_start</b> (args, fmt)</td></tr>
<tr class="separator:a2c0d09930fa9aaca88972a1cb4f115d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d21dc04cffc429b875dc44702ff5041"><td class="memItemLeft" align="right" valign="top"><a id="a2d21dc04cffc429b875dc44702ff5041"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_logv</b> (lev, fmt, args)</td></tr>
<tr class="separator:a2d21dc04cffc429b875dc44702ff5041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36af1f79dd6adf0809c21e76535034d5"><td class="memItemLeft" align="right" valign="top"><a id="a36af1f79dd6adf0809c21e76535034d5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>va_end</b> (args)</td></tr>
<tr class="separator:a36af1f79dd6adf0809c21e76535034d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f715dcc939a11db77c723e11a12f843"><td class="memItemLeft" align="right" valign="top"><a id="a3f715dcc939a11db77c723e11a12f843"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_logv</b> (ORTP_MESSAGE, fmt, args)</td></tr>
<tr class="separator:a3f715dcc939a11db77c723e11a12f843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685b2ea46fb6c68e86706d6ae9a49784"><td class="memItemLeft" align="right" valign="top"><a id="a685b2ea46fb6c68e86706d6ae9a49784"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_logv</b> (ORTP_WARNING, fmt, args)</td></tr>
<tr class="separator:a685b2ea46fb6c68e86706d6ae9a49784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44b00573ab54babdc0905e3af7cb12b2"><td class="memItemLeft" align="right" valign="top"><a id="a44b00573ab54babdc0905e3af7cb12b2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_logv</b> (ORTP_ERROR, fmt, args)</td></tr>
<tr class="separator:a44b00573ab54babdc0905e3af7cb12b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5395010863fcfc965560cd1b85adc3f5"><td class="memItemLeft" align="right" valign="top"><a id="a5395010863fcfc965560cd1b85adc3f5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ortp_logv</b> (ORTP_FATAL, fmt, args)</td></tr>
<tr class="separator:a5395010863fcfc965560cd1b85adc3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae85412a6add24a8175185a9dc5fc39b8"><td class="memItemLeft" align="right" valign="top"><a id="ae85412a6add24a8175185a9dc5fc39b8"></a>
static ORTP_INLINE void const char *&#160;</td><td class="memItemRight" valign="bottom"><b>fmt</b></td></tr>
<tr class="separator:ae85412a6add24a8175185a9dc5fc39b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Logging API. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae948b332af1f04d7a0b576a5fe962085"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORTP_PUBLIC void ortp_logv_flush </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flushes the log output queue. WARNING: Must be called from the thread that has been defined with <a class="el" href="logging_8h.html#a100ae42cbb975df18ddae850a560c250">ortp_set_log_thread_id()</a>. </p>

<p>Referenced by <a class="el" href="logging_8h.html#a100ae42cbb975df18ddae850a560c250">ortp_set_log_thread_id()</a>.</p>

</div>
</div>
<a id="afde13134028bef4938dfafb72f5df600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORTP_PUBLIC void ortp_set_log_file </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>a FILE pointer where to output the ortp logs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a198c5af3e36951e7b22e3a907500beb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORTP_PUBLIC void ortp_set_log_handler </td>
          <td>(</td>
          <td class="paramtype">OrtpLogFunc&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>your logging function, compatible with the OrtpLogFunc prototype. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae52d0120911f3ebb65dc7f3a600ec0ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORTP_PUBLIC void ortp_set_log_level </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@ param level a value of ORTP_DEBUG, ORTP_MESSAGE, ORTP_WARNING, ORTP_ERROR ORTP_FATAL . </p>

</div>
</div>
<a id="a100ae42cbb975df18ddae850a560c250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORTP_PUBLIC void ortp_set_log_thread_id </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>thread_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tell oRTP the id of the thread used to output the logs. This is meant to output all the logs from the same thread to prevent deadlock problems at the application level. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thread_id</td><td>The id of the thread that will output the logs (can be obtained using ortp_thread_self()). </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="logging_8h.html#ae948b332af1f04d7a0b576a5fe962085">ortp_logv_flush()</a>.</p>

</div>
</div>
<a id="a2c0d09930fa9aaca88972a1cb4f115d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ORTP_INLINE void va_start </td>
          <td>(</td>
          <td class="paramtype">args&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fmt&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        va_list args</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
