<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.12">
  <compounddef id="event_8c" kind="file" language="C++">
    <compoundname>event.c</compoundname>
    <includes refid="private_8h" local="yes">private.h</includes>
    <includes refid="spconfig_8h" local="yes">spconfig.h</includes>
      <sectiondef kind="func">
      <memberdef kind="function" id="event_8c_1aa3c31992f0590ecd1cfc00883d037d1b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref></type>
        <definition>SephoneSubscriptionState sephone_subscription_state_from_sal</definition>
        <argsstring>(SalSubscribeStatus ss)</argsstring>
        <name>sephone_subscription_state_from_sal</name>
        <param>
          <type>SalSubscribeStatus</type>
          <declname>ss</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="24" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="24" bodyend="32"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gaedf0c59e901c211a2ec5104c00016dd9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const char *</type>
        <definition>const char* sephone_subscription_state_to_string</definition>
        <argsstring>(SephoneSubscriptionState state)</argsstring>
        <name>sephone_subscription_state_to_string</name>
        <param>
          <type><ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref></type>
          <declname>state</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="34" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="34" bodyend="46"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga6ecc2ac8a128558f5bcedb294271c2d3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const char *</type>
        <definition>const char* sephone_publish_state_to_string</definition>
        <argsstring>(SephonePublishState state)</argsstring>
        <name>sephone_publish_state_to_string</name>
        <param>
          <type><ref refid="group__event__api_1gaa1f363f83ad2ab380619ade2de688e08" kindref="member">SephonePublishState</ref></type>
          <declname>state</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="48" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="48" bodyend="58"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1ac32c74e94edc34cc1699bd4b5f2dbd12" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>static SephoneEvent* sephone_event_new_base</definition>
        <argsstring>(SephoneCore *lc, SephoneSubscriptionDir dir, const char *name, SalOp *op)</argsstring>
        <name>sephone_event_new_base</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref></type>
          <declname>dir</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>SalOp *</type>
          <declname>op</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="60" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="60" bodyend="69"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1ad0d62834ca3cb5d6ac9f29c517fad874" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_event_new</definition>
        <argsstring>(SephoneCore *lc, SephoneSubscriptionDir dir, const char *name, int expires)</argsstring>
        <name>sephone_event_new</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref></type>
          <declname>dir</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>int</type>
          <declname>expires</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="71" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="71" bodyend="75"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1a8f6b5a67374549b3dad69de41738ea34" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>static SephoneEvent* sephone_event_new_with_op_base</definition>
        <argsstring>(SephoneCore *lc, SalOp *op, SephoneSubscriptionDir dir, const char *name, bool_t is_out_of_dialog)</argsstring>
        <name>sephone_event_new_with_op_base</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type>SalOp *</type>
          <declname>op</declname>
        </param>
        <param>
          <type><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref></type>
          <declname>dir</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>bool_t</type>
          <declname>is_out_of_dialog</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="77" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="77" bodyend="81"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1ad4d2f37b0ed897c65770a37dd7b9497e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_event_new_with_op</definition>
        <argsstring>(SephoneCore *lc, SalOp *op, SephoneSubscriptionDir dir, const char *name)</argsstring>
        <name>sephone_event_new_with_op</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type>SalOp *</type>
          <declname>op</declname>
        </param>
        <param>
          <type><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref></type>
          <declname>dir</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="83" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="83" bodyend="85"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1a0630592be0146cbd9ca400a6948a6fd7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_event_new_with_out_of_dialog_op</definition>
        <argsstring>(SephoneCore *lc, SalOp *op, SephoneSubscriptionDir dir, const char *name)</argsstring>
        <name>sephone_event_new_with_out_of_dialog_op</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type>SalOp *</type>
          <declname>op</declname>
        </param>
        <param>
          <type><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref></type>
          <declname>dir</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Useful for out of dialog notify </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="87" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="87" bodyend="89"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1ae2c770158b33c9a820438ff22c02b9e0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void sephone_event_set_state</definition>
        <argsstring>(SephoneEvent *lev, SephoneSubscriptionState state)</argsstring>
        <name>sephone_event_set_state</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type><ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref></type>
          <declname>state</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="91" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="91" bodyend="100"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1a6b048bd8e590e94796fbc10b155b02f3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void sephone_event_set_publish_state</definition>
        <argsstring>(SephoneEvent *lev, SephonePublishState state)</argsstring>
        <name>sephone_event_set_publish_state</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type><ref refid="group__event__api_1gaa1f363f83ad2ab380619ade2de688e08" kindref="member">SephonePublishState</ref></type>
          <declname>state</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="102" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="102" bodyend="125"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga761d8b4bdba11dca0046ad1109b96687" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1gaa1f363f83ad2ab380619ade2de688e08" kindref="member">SephonePublishState</ref></type>
        <definition>SephonePublishState sephone_event_get_publish_state</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_publish_state</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get publish state. If the event object was not created by a publish mechanism, <ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741bab0cc529207adddeb455605a88ebf4bcd" kindref="member">SephonePublishNone</ref> is returned. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="127" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="127" bodyend="129"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga5552d77239e13895687968773d350ee2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="group__misc_1ga5b61cd0e899fd19430169cb6247b81da" kindref="member">SephoneErrorInfo</ref> *</type>
        <definition>const SephoneErrorInfo* sephone_event_get_error_info</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_error_info</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get full details about an error occured. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="131" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="131" bodyend="133"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gacb4e8aa0db10ade63ac8388354171c9a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__misc_1ga68a1eac99c3622808ca47ec379951ff0" kindref="member">SephoneReason</ref></type>
        <definition>SephoneReason sephone_event_get_reason</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_reason</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return reason code (in case of error state reached). </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="135" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="135" bodyend="137"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga7853b5dd307a72a82b679ec463b408fb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_core_create_subscribe</definition>
        <argsstring>(SephoneCore *lc, const SephoneAddress *resource, const char *event, int expires)</argsstring>
        <name>sephone_core_create_subscribe</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type>const <ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref> *</type>
          <declname>resource</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>event</declname>
        </param>
        <param>
          <type>int</type>
          <declname>expires</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create an outgoing subscription, specifying the destination resource, the event name, and an optional content body. If accepted, the subscription runs for a finite period, but is automatically renewed if not terminated before. Unlike <ref refid="group__event__api_1ga8477e6d0970e4e6a708be017d7dbf79c" kindref="member">sephone_core_subscribe()</ref> the subscription isn&apos;t sent immediately. It will be send when calling <ref refid="group__event__api_1gadc522ea242e4fd6a33abff06ebf37277" kindref="member">sephone_event_send_subscribe()</ref>. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lc</parametername>
</parameternamelist>
<parameterdescription>
<para>the <ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>resource</parametername>
</parameternamelist>
<parameterdescription>
<para>the destination resource </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>event</parametername>
</parameternamelist>
<parameterdescription>
<para>the event name </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>expires</parametername>
</parameternamelist>
<parameterdescription>
<para>the whished duration of the subscription </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>a SephoneEvent holding the context of the created subcription. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="139" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="139" bodyend="144"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga8477e6d0970e4e6a708be017d7dbf79c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_core_subscribe</definition>
        <argsstring>(SephoneCore *lc, const SephoneAddress *resource, const char *event, int expires, const SephoneContent *body)</argsstring>
        <name>sephone_core_subscribe</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type>const <ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref> *</type>
          <declname>resource</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>event</declname>
        </param>
        <param>
          <type>int</type>
          <declname>expires</declname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create an outgoing subscription, specifying the destination resource, the event name, and an optional content body. If accepted, the subscription runs for a finite period, but is automatically renewed if not terminated before. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lc</parametername>
</parameternamelist>
<parameterdescription>
<para>the <ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>resource</parametername>
</parameternamelist>
<parameterdescription>
<para>the destination resource </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>event</parametername>
</parameternamelist>
<parameterdescription>
<para>the event name </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>expires</parametername>
</parameternamelist>
<parameterdescription>
<para>the whished duration of the subscription </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>an optional body, may be NULL. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>a SephoneEvent holding the context of the created subcription. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="146" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="146" bodyend="150"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gadc522ea242e4fd6a33abff06ebf37277" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int sephone_event_send_subscribe</definition>
        <argsstring>(SephoneEvent *lev, const SephoneContent *body)</argsstring>
        <name>sephone_event_send_subscribe</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>ev</declname>
          <defname>lev</defname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Send a subscription previously created by <ref refid="group__event__api_1ga7853b5dd307a72a82b679ec463b408fb" kindref="member">sephone_core_create_subscribe()</ref>. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ev</parametername>
</parameternamelist>
<parameterdescription>
<para>the SephoneEvent </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>optional content to attach with the subscription. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if successful, -1 otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="153" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="153" bodyend="188"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gac872a8a074cba320d47651225e5bbd01" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int sephone_event_update_subscribe</definition>
        <argsstring>(SephoneEvent *lev, const SephoneContent *body)</argsstring>
        <name>sephone_event_update_subscribe</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Update (refresh) an outgoing subscription. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lev</parametername>
</parameternamelist>
<parameterdescription>
<para>a SephoneEvent </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>an optional body to include in the subscription update, may be NULL. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="190" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="190" bodyend="192"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gaa64f723b54f7c0254dc730e25c86ecc5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int sephone_event_accept_subscription</definition>
        <argsstring>(SephoneEvent *lev)</argsstring>
        <name>sephone_event_accept_subscription</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Accept an incoming subcription. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="194" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="194" bodyend="205"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga8625d68e179f3f23a33abd9b8f018ae9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int sephone_event_deny_subscription</definition>
        <argsstring>(SephoneEvent *lev, SephoneReason reason)</argsstring>
        <name>sephone_event_deny_subscription</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type><ref refid="group__misc_1ga68a1eac99c3622808ca47ec379951ff0" kindref="member">SephoneReason</ref></type>
          <declname>reason</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Deny an incoming subscription with given reason. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="207" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="207" bodyend="216"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gaadb7eb82c0a355c3ec834922b6beb14f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int sephone_event_notify</definition>
        <argsstring>(SephoneEvent *lev, const SephoneContent *body)</argsstring>
        <name>sephone_event_notify</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Send a notification. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lev</parametername>
</parameternamelist>
<parameterdescription>
<para>a <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> corresponding to an incoming subscription previously received and accepted. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>an optional body containing the actual notification data. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if successful, -1 otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="218" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="218" bodyend="229"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga75f8091406d1f59b19e564b7d6d322bd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_core_create_publish</definition>
        <argsstring>(SephoneCore *lc, const SephoneAddress *resource, const char *event, int expires)</argsstring>
        <name>sephone_core_create_publish</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type>const <ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref> *</type>
          <declname>resource</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>event</declname>
        </param>
        <param>
          <type>int</type>
          <declname>expires</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create a publish context for an event state. After being created, the publish must be sent using <ref refid="group__event__api_1ga7b2c9abb6e40988303bc1e47e2a43506" kindref="member">sephone_event_send_publish()</ref>. After expiry, the publication is refreshed unless it is terminated before. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lc</parametername>
</parameternamelist>
<parameterdescription>
<para>the <ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>resource</parametername>
</parameternamelist>
<parameterdescription>
<para>the resource uri for the event </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>event</parametername>
</parameternamelist>
<parameterdescription>
<para>the event name </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>expires</parametername>
</parameternamelist>
<parameterdescription>
<para>the lifetime of event being published, -1 if no associated duration, in which case it will not be refreshed. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the SephoneEvent holding the context of the publish. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="231" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="231" bodyend="236"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1af74db941bd251394acc223f32eb35899" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>static int _sephone_event_send_publish</definition>
        <argsstring>(SephoneEvent *lev, const SephoneContent *body, bool_t notify_err)</argsstring>
        <name>_sephone_event_send_publish</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <param>
          <type>bool_t</type>
          <declname>notify_err</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="238" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="238" bodyend="257"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gafd95dd2c082dff53945f44bf17876c27" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_core_publish</definition>
        <argsstring>(SephoneCore *lc, const SephoneAddress *resource, const char *event, int expires, const SephoneContent *body)</argsstring>
        <name>sephone_core_publish</name>
        <param>
          <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
          <declname>lc</declname>
        </param>
        <param>
          <type>const <ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref> *</type>
          <declname>resource</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>event</declname>
        </param>
        <param>
          <type>int</type>
          <declname>expires</declname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Publish an event state. This first create a SephoneEvent with <ref refid="group__event__api_1ga75f8091406d1f59b19e564b7d6d322bd" kindref="member">sephone_core_create_publish()</ref> and calls <ref refid="group__event__api_1ga7b2c9abb6e40988303bc1e47e2a43506" kindref="member">sephone_event_send_publish()</ref> to actually send it. After expiry, the publication is refreshed unless it is terminated before. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lc</parametername>
</parameternamelist>
<parameterdescription>
<para>the <ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>resource</parametername>
</parameternamelist>
<parameterdescription>
<para>the resource uri for the event </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>event</parametername>
</parameternamelist>
<parameterdescription>
<para>the event name </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>expires</parametername>
</parameternamelist>
<parameterdescription>
<para>the lifetime of event being published, -1 if no associated duration, in which case it will not be refreshed. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>the actual published data </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the SephoneEvent holding the context of the publish. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="259" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="259" bodyend="268"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga7b2c9abb6e40988303bc1e47e2a43506" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int sephone_event_send_publish</definition>
        <argsstring>(SephoneEvent *lev, const SephoneContent *body)</argsstring>
        <name>sephone_event_send_publish</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Send a publish created by <ref refid="group__event__api_1ga75f8091406d1f59b19e564b7d6d322bd" kindref="member">sephone_core_create_publish()</ref>. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lev</parametername>
</parameternamelist>
<parameterdescription>
<para>the <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>the new data to be published </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="271" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="271" bodyend="273"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga0755e405fd96809cd5b3310cda1610bb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int sephone_event_update_publish</definition>
        <argsstring>(SephoneEvent *lev, const SephoneContent *body)</argsstring>
        <name>sephone_event_update_publish</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <param>
          <type>const <ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref> *</type>
          <declname>body</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Update (refresh) a publish. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>lev</parametername>
</parameternamelist>
<parameterdescription>
<para>the <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>the new data to be published </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="275" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="275" bodyend="277"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga4235588918d4ac02b6d9183eac2523de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void sephone_event_set_user_data</definition>
        <argsstring>(SephoneEvent *ev, void *up)</argsstring>
        <name>sephone_event_set_user_data</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>ev</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>up</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Set a user (application) pointer. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="280" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="280" bodyend="282"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gadddc405c24f13dc0278d507001f52650" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void *</type>
        <definition>void* sephone_event_get_user_data</definition>
        <argsstring>(const SephoneEvent *ev)</argsstring>
        <name>sephone_event_get_user_data</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>ev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Retrieve user pointer. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="284" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="284" bodyend="286"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gadc5c5b20212a78619f740e509d8cec5f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void sephone_event_add_custom_header</definition>
        <argsstring>(SephoneEvent *ev, const char *name, const char *value)</argsstring>
        <name>sephone_event_add_custom_header</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>ev</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>value</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Add a custom header to an outgoing susbscription or publish. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ev</parametername>
</parameternamelist>
<parameterdescription>
<para>the SephoneEvent </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>name</parametername>
</parameternamelist>
<parameterdescription>
<para>header&apos;s name </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>value</parametername>
</parameternamelist>
<parameterdescription>
<para>the header&apos;s value. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="288" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="288" bodyend="290"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gaa4c6e995c157a1b5743b0aec3c8db638" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const char *</type>
        <definition>const char* sephone_event_get_custom_header</definition>
        <argsstring>(SephoneEvent *ev, const char *name)</argsstring>
        <name>sephone_event_get_custom_header</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>ev</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Obtain the value of a given header for an incoming subscription. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ev</parametername>
</parameternamelist>
<parameterdescription>
<para>the SephoneEvent </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>name</parametername>
</parameternamelist>
<parameterdescription>
<para>header&apos;s name </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the header&apos;s value or NULL if such header doesn&apos;t exist. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="292" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="292" bodyend="295"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga79a7a5084fe4facc62f244a793ba39e1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void sephone_event_terminate</definition>
        <argsstring>(SephoneEvent *lev)</argsstring>
        <name>sephone_event_terminate</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Terminate an incoming or outgoing subscription that was previously acccepted, or a previous publication. This function does not unref the object. The core will unref() if it does not need this object anymore.</para><para>For subscribed event, when the subscription is terminated normally or because of an error, the core will unref. For published events, no unref is performed. This is because it is allowed to re-publish an expired publish, as well as retry it in case of error. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="298" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="298" bodyend="318"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga560113fc5c1dc024dba2f8aa692bcc30" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
        <definition>SephoneEvent* sephone_event_ref</definition>
        <argsstring>(SephoneEvent *lev)</argsstring>
        <name>sephone_event_ref</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Increase reference count of SephoneEvent. By default SephoneEvents created by the core are owned by the core only. An application that wishes to retain a reference to it must call <ref refid="group__event__api_1ga560113fc5c1dc024dba2f8aa692bcc30" kindref="member">sephone_event_ref()</ref>. When this reference is no longer needed, <ref refid="group__event__api_1ga13243503eb55eafa9213282441e8aeb7" kindref="member">sephone_event_unref()</ref> must be called. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="321" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="321" bodyend="324"/>
      </memberdef>
      <memberdef kind="function" id="event_8c_1a1398f6987d0d1054e6ce44ae871e028e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void sephone_event_destroy</definition>
        <argsstring>(SephoneEvent *lev)</argsstring>
        <name>sephone_event_destroy</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="326" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="326" bodyend="331"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga13243503eb55eafa9213282441e8aeb7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void sephone_event_unref</definition>
        <argsstring>(SephoneEvent *lev)</argsstring>
        <name>sephone_event_unref</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Decrease reference count. <simplesect kind="see"><para><ref refid="group__event__api_1ga560113fc5c1dc024dba2f8aa692bcc30" kindref="member">sephone_event_ref()</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="333" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="333" bodyend="336"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gaf9d2c02cbd89742c3b4d11d46dfdde57" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref></type>
        <definition>SephoneSubscriptionDir sephone_event_get_subscription_dir</definition>
        <argsstring>(SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_subscription_dir</name>
        <param>
          <type><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get subscription direction. If the object wasn&apos;t created by a subscription mechanism, <ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a817d6691d0cf52d3a6f842f836379151" kindref="member">SephoneSubscriptionInvalidDir</ref> is returned. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="338" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="338" bodyend="340"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga055773a22306470961c3c2e8d44788cd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref></type>
        <definition>SephoneSubscriptionState sephone_event_get_subscription_state</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_subscription_state</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get subscription state. If the event object was not created by a subscription mechanism, <ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63afcc69256bf215da5a44116439ef22491" kindref="member">SephoneSubscriptionNone</ref> is returned. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="342" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="342" bodyend="344"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1gabac096124849e26db61b91a168e9d3e5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const char *</type>
        <definition>const char* sephone_event_get_name</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_name</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the name of the event as specified in the event package RFC. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="346" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="346" bodyend="348"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga40fa75130237697372388c1fe0339715" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref> *</type>
        <definition>const SephoneAddress* sephone_event_get_from</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_from</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the &quot;from&quot; address of the subscription. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="350" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="350" bodyend="356"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga6a41c49e79716729b307faedd17abff2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>const <ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref> *</type>
        <definition>const SephoneAddress* sephone_event_get_resource</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_resource</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Get the resource address of the subscription or publish. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="358" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="358" bodyend="364"/>
      </memberdef>
      <memberdef kind="function" id="group__event__api_1ga3393791b272aecf279ab98dcc5338d0d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref> *</type>
        <definition>SephoneCore* sephone_event_get_core</definition>
        <argsstring>(const SephoneEvent *lev)</argsstring>
        <name>sephone_event_get_core</name>
        <param>
          <type>const <ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref> *</type>
          <declname>lev</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Returns back pointer to the SephoneCore that created this SephoneEvent </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" line="366" column="1" bodyfile="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c" bodystart="366" bodyend="368"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment">event.c</highlight></codeline>
<codeline lineno="3"><highlight class="comment">Copyright<sp/>(C)<sp/>2000<sp/>-<sp/>2010<sp/>Simon<sp/>MORLAT<sp/>(simon.morlat@linphone.org)</highlight></codeline>
<codeline lineno="4"><highlight class="comment"></highlight></codeline>
<codeline lineno="5"><highlight class="comment">This<sp/>program<sp/>is<sp/>free<sp/>software;<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or</highlight></codeline>
<codeline lineno="6"><highlight class="comment">modify<sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License</highlight></codeline>
<codeline lineno="7"><highlight class="comment">as<sp/>published<sp/>by<sp/>the<sp/>Free<sp/>Software<sp/>Foundation;<sp/>either<sp/>version<sp/>2</highlight></codeline>
<codeline lineno="8"><highlight class="comment">of<sp/>the<sp/>License,<sp/>or<sp/>(at<sp/>your<sp/>option)<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="9"><highlight class="comment"></highlight></codeline>
<codeline lineno="10"><highlight class="comment">This<sp/>program<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="11"><highlight class="comment">but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="12"><highlight class="comment">MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/><sp/>See<sp/>the</highlight></codeline>
<codeline lineno="13"><highlight class="comment">GNU<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="14"><highlight class="comment"></highlight></codeline>
<codeline lineno="15"><highlight class="comment">You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License</highlight></codeline>
<codeline lineno="16"><highlight class="comment">along<sp/>with<sp/>this<sp/>program;<sp/>if<sp/>not,<sp/>write<sp/>to<sp/>the<sp/>Free<sp/>Software</highlight></codeline>
<codeline lineno="17"><highlight class="comment">Foundation,<sp/>Inc.,<sp/>59<sp/>Temple<sp/>Place<sp/>-<sp/>Suite<sp/>330,<sp/>Boston,<sp/>MA<sp/><sp/>02111-1307,<sp/>USA.</highlight></codeline>
<codeline lineno="18"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;private.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;spconfig.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref><sp/>sephone_subscription_state_from_sal(SalSubscribeStatus<sp/>ss){</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(ss){</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>SalSubscribeNone:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63afcc69256bf215da5a44116439ef22491" kindref="member">SephoneSubscriptionNone</ref>;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>SalSubscribePending:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aa2628226fdec246124312a145fe0248e" kindref="member">SephoneSubscriptionPending</ref>;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>SalSubscribeTerminated:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aace0c7831e1c1b664453571c7ebc05b3" kindref="member">SephoneSubscriptionTerminated</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>SalSubscribeActive:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a54f11e21237bd3447a7db4d2bec2fd18" kindref="member">SephoneSubscriptionActive</ref>;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63afcc69256bf215da5a44116439ef22491" kindref="member">SephoneSubscriptionNone</ref>;</highlight></codeline>
<codeline lineno="32"><highlight class="normal">}</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*sephone_subscription_state_to_string(<ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref><sp/>state){</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(state){</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63afcc69256bf215da5a44116439ef22491" kindref="member">SephoneSubscriptionNone</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionNone&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a0ca3ea387c0a45ce0eb9e9ce069fe05d" kindref="member">SephoneSubscriptionIncomingReceived</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionIncomingReceived&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>SephoneSubscriptionOutgoingInit:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionOutoingInit&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aa2628226fdec246124312a145fe0248e" kindref="member">SephoneSubscriptionPending</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionPending&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a54f11e21237bd3447a7db4d2bec2fd18" kindref="member">SephoneSubscriptionActive</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionActive&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aace0c7831e1c1b664453571c7ebc05b3" kindref="member">SephoneSubscriptionTerminated</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionTerminated&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a5b8bd326268a61ceaea6f4e1b683bd26" kindref="member">SephoneSubscriptionError</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionError&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a7fdf4c05f865900de15a24c19fbb3f7b" kindref="member">SephoneSubscriptionExpiring</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephoneSubscriptionExpiring&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="46"><highlight class="normal">}</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal">SEPHONE_PUBLIC<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*sephone_publish_state_to_string(<ref refid="group__event__api_1gaa1f363f83ad2ab380619ade2de688e08" kindref="member">SephonePublishState</ref><sp/>state){</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(state){</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741bab0cc529207adddeb455605a88ebf4bcd" kindref="member">SephonePublishNone</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephonePublishNone&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba291bb91f80df6e74ab0c6486ebc3a20b" kindref="member">SephonePublishProgress</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephonePublishProgress&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba7547f7f99795710d5cad1ce8674c074c" kindref="member">SephonePublishOk</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephonePublishOk&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741bab5cbf0c9777697de37c2bff2fa4e7a28" kindref="member">SephonePublishError</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephonePublishError&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba4793f50693791a87a8ab5e5554d4c613" kindref="member">SephonePublishCleared</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephonePublishCleared&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba2c74d69d1098d01590fa54444403cef3" kindref="member">SephonePublishExpiring</ref>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;SephonePublishExpiring&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="58"><highlight class="normal">}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*<sp/>sephone_event_new_base(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref><sp/>dir,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/>SalOp<sp/>*op){</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev=ms_new0(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref>,1);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;lc=lc;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;dir=dir;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;op=op;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;refcnt=1;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;name=ms_strdup(name);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_op_set_user_pointer(lev-&gt;op,lev);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="69"><highlight class="normal">}</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*sephone_event_new(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref><sp/>dir,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>expires){</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev=sephone_event_new_base(lc,<sp/>dir,<sp/>name,<sp/>sal_op_new(lc-&gt;sal));</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;expires=expires;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="75"><highlight class="normal">}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*sephone_event_new_with_op_base(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/>SalOp<sp/>*op,<sp/><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref><sp/>dir,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/>bool_t<sp/>is_out_of_dialog){</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev=sephone_event_new_base(lc,<sp/>dir,<sp/>name,<sp/>op);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;is_out_of_dialog_op=is_out_of_dialog;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="81"><highlight class="normal">}</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*sephone_event_new_with_op(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/>SalOp<sp/>*op,<sp/><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref><sp/>dir,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name)<sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sephone_event_new_with_op_base(lc,op,dir,name,FALSE);</highlight></codeline>
<codeline lineno="85"><highlight class="normal">}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*sephone_event_new_with_out_of_dialog_op(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/>SalOp<sp/>*op,<sp/><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref><sp/>dir,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name)<sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sephone_event_new_with_op_base(lc,op,dir,name,TRUE);</highlight></codeline>
<codeline lineno="89"><highlight class="normal">}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sephone_event_set_state(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/><ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref><sp/>state){</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;subscription_state!=state){</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_message(</highlight><highlight class="stringliteral">&quot;SephoneEvent<sp/>[%p]<sp/>moving<sp/>to<sp/>subscription<sp/>state<sp/>%s&quot;</highlight><highlight class="normal">,lev,sephone_subscription_state_to_string(state));</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;subscription_state=state;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_core_notify_subscription_state_changed(lev-&gt;lc,lev,state);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(state==<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aace0c7831e1c1b664453571c7ebc05b3" kindref="member">SephoneSubscriptionTerminated</ref>){</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga13243503eb55eafa9213282441e8aeb7" kindref="member">sephone_event_unref</ref>(lev);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="100"><highlight class="normal">}</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sephone_event_set_publish_state(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/><ref refid="group__event__api_1gaa1f363f83ad2ab380619ade2de688e08" kindref="member">SephonePublishState</ref><sp/>state){</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;publish_state!=state){</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_message(</highlight><highlight class="stringliteral">&quot;SephoneEvent<sp/>[%p]<sp/>moving<sp/>to<sp/>publish<sp/>state<sp/>%s&quot;</highlight><highlight class="normal">,lev,sephone_publish_state_to_string(state));</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;publish_state=state;</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_core_notify_publish_state_changed(lev-&gt;lc,lev,state);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(state){</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba4793f50693791a87a8ab5e5554d4c613" kindref="member">SephonePublishCleared</ref>:</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;expires!=-1)</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga13243503eb55eafa9213282441e8aeb7" kindref="member">sephone_event_unref</ref>(lev);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba7547f7f99795710d5cad1ce8674c074c" kindref="member">SephonePublishOk</ref>:</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741bab5cbf0c9777697de37c2bff2fa4e7a28" kindref="member">SephonePublishError</ref>:</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;expires==-1)</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga13243503eb55eafa9213282441e8aeb7" kindref="member">sephone_event_unref</ref>(lev);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741bab0cc529207adddeb455605a88ebf4bcd" kindref="member">SephonePublishNone</ref>:</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba291bb91f80df6e74ab0c6486ebc3a20b" kindref="member">SephonePublishProgress</ref>:</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba2c74d69d1098d01590fa54444403cef3" kindref="member">SephonePublishExpiring</ref>:</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*nothing<sp/>special<sp/>to<sp/>do*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="125"><highlight class="normal">}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><ref refid="group__event__api_1gaa1f363f83ad2ab380619ade2de688e08" kindref="member">SephonePublishState</ref><sp/><ref refid="group__event__api_1ga761d8b4bdba11dca0046ad1109b96687" kindref="member">sephone_event_get_publish_state</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev-&gt;publish_state;</highlight></codeline>
<codeline lineno="129"><highlight class="normal">}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5b61cd0e899fd19430169cb6247b81da" kindref="member">SephoneErrorInfo</ref><sp/>*<ref refid="group__event__api_1ga5552d77239e13895687968773d350ee2" kindref="member">sephone_event_get_error_info</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sephone_error_info_from_sal_op(lev-&gt;op);</highlight></codeline>
<codeline lineno="133"><highlight class="normal">}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><ref refid="group__misc_1ga68a1eac99c3622808ca47ec379951ff0" kindref="member">SephoneReason</ref><sp/><ref refid="group__event__api_1gacb4e8aa0db10ade63ac8388354171c9a" kindref="member">sephone_event_get_reason</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga0de3d7db0b3a1305298d5c39f33270c1" kindref="member">sephone_error_info_get_reason</ref>(<ref refid="group__event__api_1ga5552d77239e13895687968773d350ee2" kindref="member">sephone_event_get_error_info</ref>(lev));</highlight></codeline>
<codeline lineno="137"><highlight class="normal">}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*<ref refid="group__event__api_1ga7853b5dd307a72a82b679ec463b408fb" kindref="member">sephone_core_create_subscribe</ref>(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref><sp/>*resource,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*event,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>expires){</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev=sephone_event_new(lc,<sp/><ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a0511a006c2623e02f1a2eb0f1432352f" kindref="member">SephoneSubscriptionOutgoing</ref>,<sp/>event,<sp/>expires);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_configure_op(lc,lev-&gt;op,resource,NULL,TRUE);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_op_set_manual_refresher_mode(lev-&gt;op,!<ref refid="group__misc_1ga3d31ae0b188509173833ba6216499759" kindref="member">sp_config_get_int</ref>(lc-&gt;config,</highlight><highlight class="stringliteral">&quot;sip&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;refresh_generic_subscribe&quot;</highlight><highlight class="normal">,1));</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="144"><highlight class="normal">}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*<ref refid="group__event__api_1ga8477e6d0970e4e6a708be017d7dbf79c" kindref="member">sephone_core_subscribe</ref>(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref><sp/>*resource,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*event,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>expires,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref><sp/>*body){</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev=<ref refid="group__event__api_1ga7853b5dd307a72a82b679ec463b408fb" kindref="member">sephone_core_create_subscribe</ref>(lc,resource,event,expires);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1gadc522ea242e4fd6a33abff06ebf37277" kindref="member">sephone_event_send_subscribe</ref>(lev,body);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gadc522ea242e4fd6a33abff06ebf37277" kindref="member">sephone_event_send_subscribe</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref><sp/>*body){</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SalBody<sp/>salbody;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;dir!=<ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a0511a006c2623e02f1a2eb0f1432352f" kindref="member">SephoneSubscriptionOutgoing</ref>){</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_error(</highlight><highlight class="stringliteral">&quot;sephone_event_send_subscribe():<sp/>cannot<sp/>send<sp/>or<sp/>update<sp/>something<sp/>that<sp/>is<sp/>not<sp/>an<sp/>outgoing<sp/>subscription.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(lev-&gt;subscription_state){</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a0ca3ea387c0a45ce0eb9e9ce069fe05d" kindref="member">SephoneSubscriptionIncomingReceived</ref>:</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aace0c7831e1c1b664453571c7ebc05b3" kindref="member">SephoneSubscriptionTerminated</ref>:</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>SephoneSubscriptionOutgoingInit:</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_error(</highlight><highlight class="stringliteral">&quot;sephone_event_send_subscribe():<sp/>cannot<sp/>update<sp/>subscription<sp/>while<sp/>in<sp/>state<sp/>[%s]&quot;</highlight><highlight class="normal">,<sp/>sephone_subscription_state_to_string(lev-&gt;subscription_state));</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63afcc69256bf215da5a44116439ef22491" kindref="member">SephoneSubscriptionNone</ref>:</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a54f11e21237bd3447a7db4d2bec2fd18" kindref="member">SephoneSubscriptionActive</ref>:</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a7fdf4c05f865900de15a24c19fbb3f7b" kindref="member">SephoneSubscriptionExpiring</ref>:</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a5b8bd326268a61ceaea6f4e1b683bd26" kindref="member">SephoneSubscriptionError</ref>:</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aa2628226fdec246124312a145fe0248e" kindref="member">SephoneSubscriptionPending</ref>:</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*those<sp/>states<sp/>are<sp/>ok*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;send_custom_headers){</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_op_set_sent_custom_header(lev-&gt;op,lev-&gt;send_custom_headers);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;send_custom_headers=NULL;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>sal_op_set_sent_custom_header(lev-&gt;op,NULL);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>err=sal_subscribe(lev-&gt;op,NULL,NULL,lev-&gt;name,lev-&gt;expires,sal_body_from_content(&amp;salbody,body));</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(err==0){</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;subscription_state==<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63afcc69256bf215da5a44116439ef22491" kindref="member">SephoneSubscriptionNone</ref>)</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_event_set_state(lev,SephoneSubscriptionOutgoingInit);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="188"><highlight class="normal">}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gac872a8a074cba320d47651225e5bbd01" kindref="member">sephone_event_update_subscribe</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref><sp/>*body){</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gadc522ea242e4fd6a33abff06ebf37277" kindref="member">sephone_event_send_subscribe</ref>(lev,body);</highlight></codeline>
<codeline lineno="192"><highlight class="normal">}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gaa64f723b54f7c0254dc730e25c86ecc5" kindref="member">sephone_event_accept_subscription</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;subscription_state!=<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a0ca3ea387c0a45ce0eb9e9ce069fe05d" kindref="member">SephoneSubscriptionIncomingReceived</ref>){</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_error(</highlight><highlight class="stringliteral">&quot;sephone_event_accept_subscription():<sp/>cannot<sp/>accept<sp/>subscription<sp/>if<sp/>subscription<sp/>wasn&apos;t<sp/>just<sp/>received.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>err=sal_subscribe_accept(lev-&gt;op);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(err==0){</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_event_set_state(lev,<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a54f11e21237bd3447a7db4d2bec2fd18" kindref="member">SephoneSubscriptionActive</ref>);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="205"><highlight class="normal">}</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga8625d68e179f3f23a33abd9b8f018ae9" kindref="member">sephone_event_deny_subscription</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/><ref refid="group__misc_1ga68a1eac99c3622808ca47ec379951ff0" kindref="member">SephoneReason</ref><sp/>reason){</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;subscription_state!=<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a0ca3ea387c0a45ce0eb9e9ce069fe05d" kindref="member">SephoneSubscriptionIncomingReceived</ref>){</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_error(</highlight><highlight class="stringliteral">&quot;sephone_event_deny_subscription():<sp/>cannot<sp/>deny<sp/>subscription<sp/>if<sp/>subscription<sp/>wasn&apos;t<sp/>just<sp/>received.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>err=sal_subscribe_decline(lev-&gt;op,sephone_reason_to_sal(reason));</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_event_set_state(lev,<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aace0c7831e1c1b664453571c7ebc05b3" kindref="member">SephoneSubscriptionTerminated</ref>);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gaadb7eb82c0a355c3ec834922b6beb14f" kindref="member">sephone_event_notify</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref><sp/>*body){</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SalBody<sp/>salbody;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;subscription_state!=<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63a54f11e21237bd3447a7db4d2bec2fd18" kindref="member">SephoneSubscriptionActive</ref>){</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_error(</highlight><highlight class="stringliteral">&quot;sephone_event_notify():<sp/>cannot<sp/>notify<sp/>if<sp/>subscription<sp/>is<sp/>not<sp/>active.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;dir!=<ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a5401c39bb3f66ff13a5073f1aadbab16" kindref="member">SephoneSubscriptionIncoming</ref>){</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_error(</highlight><highlight class="stringliteral">&quot;sephone_event_notify():<sp/>cannot<sp/>notify<sp/>if<sp/>not<sp/>an<sp/>incoming<sp/>subscription.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sal_notify(lev-&gt;op,sal_body_from_content(&amp;salbody,body));</highlight></codeline>
<codeline lineno="229"><highlight class="normal">}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*<ref refid="group__event__api_1ga75f8091406d1f59b19e564b7d6d322bd" kindref="member">sephone_core_create_publish</ref>(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref><sp/>*resource,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*event,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>expires){</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev=sephone_event_new(lc,<ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a817d6691d0cf52d3a6f842f836379151" kindref="member">SephoneSubscriptionInvalidDir</ref>,<sp/>event,expires);</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_configure_op(lc,lev-&gt;op,resource,NULL,<ref refid="group__misc_1ga3d31ae0b188509173833ba6216499759" kindref="member">sp_config_get_int</ref>(lc-&gt;config,</highlight><highlight class="stringliteral">&quot;sip&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;publish_msg_with_contact&quot;</highlight><highlight class="normal">,0));</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_op_set_manual_refresher_mode(lev-&gt;op,!<ref refid="group__misc_1ga3d31ae0b188509173833ba6216499759" kindref="member">sp_config_get_int</ref>(lc-&gt;config,</highlight><highlight class="stringliteral">&quot;sip&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;refresh_generic_publish&quot;</highlight><highlight class="normal">,1));</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="236"><highlight class="normal">}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>_sephone_event_send_publish(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref><sp/>*body,<sp/>bool_t<sp/>notify_err){</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SalBody<sp/>salbody;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;dir!=<ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a817d6691d0cf52d3a6f842f836379151" kindref="member">SephoneSubscriptionInvalidDir</ref>){</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_error(</highlight><highlight class="stringliteral">&quot;sephone_event_update_publish():<sp/>this<sp/>is<sp/>not<sp/>a<sp/>PUBLISH<sp/>event.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;send_custom_headers){</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_op_set_sent_custom_header(lev-&gt;op,lev-&gt;send_custom_headers);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;send_custom_headers=NULL;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>sal_op_set_sent_custom_header(lev-&gt;op,NULL);</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>err=sal_publish(lev-&gt;op,NULL,NULL,lev-&gt;name,lev-&gt;expires,sal_body_from_content(&amp;salbody,body));</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(err==0){</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_event_set_publish_state(lev,<ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba291bb91f80df6e74ab0c6486ebc3a20b" kindref="member">SephonePublishProgress</ref>);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(notify_err){</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_event_set_publish_state(lev,<ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741bab5cbf0c9777697de37c2bff2fa4e7a28" kindref="member">SephonePublishError</ref>);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="257"><highlight class="normal">}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*<ref refid="group__event__api_1gafd95dd2c082dff53945f44bf17876c27" kindref="member">sephone_core_publish</ref>(<ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*lc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref><sp/>*resource,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*event,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>expires,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref><sp/>*body){</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev=<ref refid="group__event__api_1ga75f8091406d1f59b19e564b7d6d322bd" kindref="member">sephone_core_create_publish</ref>(lc,resource,event,expires);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>err=_sephone_event_send_publish(lev,body,FALSE);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(err==-1){</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__event__api_1ga13243503eb55eafa9213282441e8aeb7" kindref="member">sephone_event_unref</ref>(lev);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev=NULL;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="268"><highlight class="normal">}</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga7b2c9abb6e40988303bc1e47e2a43506" kindref="member">sephone_event_send_publish</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref><sp/>*body){</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_sephone_event_send_publish(lev,body,TRUE);</highlight></codeline>
<codeline lineno="273"><highlight class="normal">}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga0755e405fd96809cd5b3310cda1610bb" kindref="member">sephone_event_update_publish</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref>*<sp/>lev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__misc_1ga5fb7d3a264e5cd9b191ebb25e6d54930" kindref="member">SephoneContent</ref>*<sp/>body<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga7b2c9abb6e40988303bc1e47e2a43506" kindref="member">sephone_event_send_publish</ref>(lev,body);</highlight></codeline>
<codeline lineno="277"><highlight class="normal">}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4235588918d4ac02b6d9183eac2523de" kindref="member">sephone_event_set_user_data</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*ev,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*up){</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ev-&gt;userdata=up;</highlight></codeline>
<codeline lineno="282"><highlight class="normal">}</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="group__event__api_1gadddc405c24f13dc0278d507001f52650" kindref="member">sephone_event_get_user_data</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*ev){</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ev-&gt;userdata;</highlight></codeline>
<codeline lineno="286"><highlight class="normal">}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1gadc5c5b20212a78619f740e509d8cec5f" kindref="member">sephone_event_add_custom_header</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*ev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*value){</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ev-&gt;send_custom_headers=sal_custom_header_append(ev-&gt;send_custom_headers,<sp/>name,<sp/>value);</highlight></codeline>
<codeline lineno="290"><highlight class="normal">}</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="group__event__api_1gaa4c6e995c157a1b5743b0aec3c8db638" kindref="member">sephone_event_get_custom_header</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref>*<sp/>ev,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>name){</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>SalCustomHeader<sp/>*ch=sal_op_get_recv_custom_header(ev-&gt;op);</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sal_custom_header_find(ch,name);</highlight></codeline>
<codeline lineno="295"><highlight class="normal">}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga79a7a5084fe4facc62f244a793ba39e1" kindref="member">sephone_event_terminate</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;terminating=TRUE;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;dir==<ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a5401c39bb3f66ff13a5073f1aadbab16" kindref="member">SephoneSubscriptionIncoming</ref>){</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_notify_close(lev-&gt;op);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;dir==<ref refid="group__event__api_1ggaea0d46207447c2bd64471482602aafc8a0511a006c2623e02f1a2eb0f1432352f" kindref="member">SephoneSubscriptionOutgoing</ref>){</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_unsubscribe(lev-&gt;op);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;publish_state!=<ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741bab0cc529207adddeb455605a88ebf4bcd" kindref="member">SephonePublishNone</ref>){</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;publish_state==<ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba7547f7f99795710d5cad1ce8674c074c" kindref="member">SephonePublishOk</ref><sp/>&amp;&amp;<sp/>lev-&gt;expires!=-1){</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_publish(lev-&gt;op,NULL,NULL,NULL,0,NULL);</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>sal_op_stop_refreshing(lev-&gt;op);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_event_set_publish_state(lev,<ref refid="group__event__api_1ggab7387c035ee4b071e070dd7f0658741ba4793f50693791a87a8ab5e5554d4c613" kindref="member">SephonePublishCleared</ref>);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;subscription_state!=<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63afcc69256bf215da5a44116439ef22491" kindref="member">SephoneSubscriptionNone</ref>){</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sephone_event_set_state(lev,<ref refid="group__event__api_1gga041b2fc9316518450ec1877c5d18cb63aace0c7831e1c1b664453571c7ebc05b3" kindref="member">SephoneSubscriptionTerminated</ref>);</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*<ref refid="group__event__api_1ga560113fc5c1dc024dba2f8aa692bcc30" kindref="member">sephone_event_ref</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;refcnt++;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev;</highlight></codeline>
<codeline lineno="324"><highlight class="normal">}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sephone_event_destroy(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;op)</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sal_op_release(lev-&gt;op);</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_free(lev-&gt;name);</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_free(lev);</highlight></codeline>
<codeline lineno="331"><highlight class="normal">}</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga13243503eb55eafa9213282441e8aeb7" kindref="member">sephone_event_unref</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lev-&gt;refcnt--;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;refcnt==0)<sp/>sephone_event_destroy(lev);</highlight></codeline>
<codeline lineno="336"><highlight class="normal">}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><ref refid="group__event__api_1gad3efae13f9bdc27f1711cfe2cd1f09ec" kindref="member">SephoneSubscriptionDir</ref><sp/><ref refid="group__event__api_1gaf9d2c02cbd89742c3b4d11d46dfdde57" kindref="member">sephone_event_get_subscription_dir</ref>(<ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev-&gt;dir;</highlight></codeline>
<codeline lineno="340"><highlight class="normal">}</highlight></codeline>
<codeline lineno="341"><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><ref refid="group__event__api_1ga53c552ca8a166b79ac47ee8ccc520859" kindref="member">SephoneSubscriptionState</ref><sp/><ref refid="group__event__api_1ga055773a22306470961c3c2e8d44788cd" kindref="member">sephone_event_get_subscription_state</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev-&gt;subscription_state;</highlight></codeline>
<codeline lineno="344"><highlight class="normal">}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="group__event__api_1gabac096124849e26db61b91a168e9d3e5" kindref="member">sephone_event_get_name</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev-&gt;name;</highlight></codeline>
<codeline lineno="348"><highlight class="normal">}</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref><sp/>*<ref refid="group__event__api_1ga40fa75130237697372388c1fe0339715" kindref="member">sephone_event_get_from</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;is_out_of_dialog_op){</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref>*)sal_op_get_to_address(lev-&gt;op);</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref>*)sal_op_get_from_address(lev-&gt;op);</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="356"><highlight class="normal">}</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref><sp/>*<ref refid="group__event__api_1ga6a41c49e79716729b307faedd17abff2" kindref="member">sephone_event_get_resource</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lev-&gt;is_out_of_dialog_op){</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref>*)sal_op_get_from_address(lev-&gt;op);</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">else</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="group__sephone__address_1ga55f07568eee2ed418e36ed9781cf2e23" kindref="member">SephoneAddress</ref>*)sal_op_get_to_address(lev-&gt;op);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="364"><highlight class="normal">}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><ref refid="group__initializing_1ga1c39f5ce369d188892c11e63b93d66ca" kindref="member">SephoneCore</ref><sp/>*<ref refid="group__event__api_1ga3393791b272aecf279ab98dcc5338d0d" kindref="member">sephone_event_get_core</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__event__api_1ga4fde8e07f1e28a2d4f15a3bfb1826f75" kindref="member">SephoneEvent</ref><sp/>*lev){</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lev-&gt;lc;</highlight></codeline>
<codeline lineno="368"><highlight class="normal">}</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/users/andrew/workspaces/linphone/submodules/sephone/coreapi/event.c"/>
  </compounddef>
</doxygen>
